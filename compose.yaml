version: '3.9'

services:
  mindsdb-db:
    image: mindsdb/mindsdb:latest
    ports:
      - "47334:47334"
      - "47335:47335"

  backend:
    build:
      context: backend/
    ports:
      - "8000:8000"
    environment:
      MARIADB_DATABASE_URL: "mysql://root:ayush1234321@16.171.139.237/btc_price"
      MINDSDB_URL: "http://mindsdb-db:47334/api/sql/query"

  frontend:
    build:
      context: frontend/
    ports:
      - "3000:3000"
    environment:
      BACKEND_URL: "http://backend:8000/predict"
